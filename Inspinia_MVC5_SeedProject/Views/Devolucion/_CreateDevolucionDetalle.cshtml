@model  ERP_GMEDINA.Models.tbDevolucionDetalle
@using ERP_GMEDINA.Models

<div class="wrapper wrapper-conten">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-content">

			@*@using (Html.BeginForm())
{
   @Html.AntiForgeryToken()*@


    <div class="form-horizontal">
        @*<div class="form-group" style="align-items:flex-end">
            <input type="button" value="Buscar" class="btn btn-primary btn-xl" />
            <div class="col-md-8">
                <input type="text" class="form-control " placeholder="Buscar Producto..."/>
            </div>
        </div>*@
        @*@Html.ValidationSummary(true)*@
      
        <div class="form-group">
            @Html.LabelFor(model => model.prod_Codigo,"Codigo Producto", new { @class = "control-label col-md-2" })
            <div class="col-md-2">
                <input type="hidden" name="fact_Id" value="" class="form-control " />
                <input type="text" id="prod_Codigo" name="prod_Codigo" value="" class="form-control " />
                @*@Html.EditorFor(model => model.prod_Codigo)*@
                <div id="validationCodigoProductoCreate">
                    @Html.ValidationMessageFor(model => model.prod_Codigo)
                </div>
              
            </div>
            <div class="col-md-1">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ModalBuscarProducto"><span class="glyphicon glyphicon-search"></span></button>
            </div>
            @Html.LabelFor(model => model.devd_CantidadProducto, "Cantidad", new { @class = "control-label col-md-2" })
            <div class="col-md-3">
                <input type="text" id="devd_CantidadProducto" name="devd_CantidadProducto" value="" class="form-control " />
                @*@Html.EditorFor(model => model.devd_CantidadProducto, "1")*@
                <div id="validationCantidadCreate">
                    @Html.ValidationMessageFor(model => model.devd_CantidadProducto)
                </div>
             
            </div>
            <div class="col-md-1">
                <button class="btn btn-primary" type="button" id="AgregarDetalleDevolucion">Agregar Producto</button>
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.tbProducto.prod_Descripcion, "Descripcion", new { @class = "control-label col-md-2" })
            <div class="col-md-3">
               @Html.EditorFor(model => model.tbProducto.prod_Descripcion)
                <div id="validationProductoDevolucionCreate">
                    @Html.ValidationMessageFor(model => model.tbProducto.prod_Descripcion)
                </div>
              
            </div>
            <label class="control-label col-md-2">Precio Unitario</label>
            <div class="col-md-3">
                <input type="text" value="" class="form-control " id="PrecioUnitario"/>
            </div>

           
        </div>


        <div class="form-group">
            @Html.LabelFor(model => model.devd_Monto, "Monto", new { @class = "control-label  col-md-offset-5 col-md-2" })
            <div class="col-md-offset col-md-3">
                @Html.EditorFor(model => model.devd_Monto ,new { htmlAttributes = new { @readonly = "readonly", @class = "form-control" } })
                <div id="validationProductoDevolucionCreate">
                    @Html.ValidationMessageFor(model => model.devd_Monto)
                </div>

            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.devd_Descripcion, "Observaciones", new { @class = "control-label col-md-2" })
            <div class="col-md-8">
                @*<input type="text" id="devd_Descripcion" name="devd_Descripcion" value="" class="form-control " />*@
                @Html.TextAreaFor(model => model.devd_Descripcion, new { @class = "form-control" })
                <div id="validationComentariosCreate">
                    @Html.ValidationMessageFor(model => model.devd_Descripcion)
                </div>

            </div>
        </div>
                  
                        @*<div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Agregar" class="btn btn-primary" />
                    @Html.ActionLink("Cancelar", "Create", null, new { @class = "btn btn-white" })
                </div>
            </div>*@
                    </div>
                @*}*@
                    <table id="tbDetalleDevolucion"class="table table-striped table-bordered table-hover dataTables-example">
                        <thead>
                            <tr>
                                <th>Código Producto</th>
                                <th>Producto</th>
                                <th>Cantidad</th>
                                <th>Observaciones</th>
                                <th>Monto</th>
                                @*<th>Descuento</th>*@
                                <th></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                        <tfoot>
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                           </tr>
</tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>
 </div>

<div class="modal fade" id="ModalBuscarProducto" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Productos Devolución</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                     @Html.Partial("_ProductoDevolucionFactura", (List<tbFacturaDetalle>)ViewBag.FacturaDetalle)
            </div>

            @*<div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                        <button type="button" class="btn btn-primary">Guardar</button>
                    </div>*@
            </div>
        </div>
    </div>
<script src="~/Scripts/jquery-3.3.1.js"></script>
<script src="~/Scripts/app/DevolucionCalculos.js"></script>